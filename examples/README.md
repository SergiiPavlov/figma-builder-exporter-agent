# Examples

Набор сценариев для быстрого запуска `curl`-запросов и проверки TaskSpec.

## Переменные окружения

Перед запуском установите базовые переменные (можно добавить их в `.env` вашего терминала):

```bash
export RELAY_URL="http://localhost:3000"
export API_KEY="dev123"
```

- `RELAY_URL` — URL Relay-сервера (по умолчанию локальный dev).
- `API_KEY` — ключ доступа, используется только в заголовке `Authorization: Bearer <key>`.

## TaskSpec

В каталоге [`taskspecs/`](./taskspecs/) находятся валидные примеры TaskSpec (минимальный, с расширенными секциями и с запросом превью).

## Curl-сценарии

В каталоге [`curl/`](./curl/) представлены скрипты для типичных операций:

- `create-task.sh` — создать задачу из TaskSpec.
- `post-result.sh` — отправить ExportSpec и логи.
- `get-artifact.sh` — скачать JSON-артефакт по `taskId`.
- `compare-json.sh` — получить JSON-дифф двух артефактов.
- `compare-html.sh` — скачать HTML-отчёт сравнения.
- `compare-zip.sh` — скачать ZIP-отчёт сравнения.
- `share.sh` — сгенерировать share-token для артефакта.
- `watch.sh` — подписаться на SSE-логи выполнения задачи.

Все скрипты используют `set -euo pipefail` и проверяют наличие ключевых переменных. При необходимости задайте дополнительные параметры через аргументы (подробности внутри файлов).
