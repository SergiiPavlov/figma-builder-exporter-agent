# Задачи плагина

## [PLUGIN] Индикатор статуса задачи в UI

**Статус:** todo

**Цель:** добавить в `plugin/ui.html` панель статуса, которая после вызова Fetch подписывается на SSE `/tasks/:id/watch` и показывает статус/логи в реальном времени.

**Изменяемые файлы:**
- `plugin/ui.html`
- `plugin/code.js`
- при необходимости вспомогательные модули в `plugin/`

**Критерии приёмки (Acceptance):**
- Подписка стартует после Fetch, когда известен `taskId`, и корректно отписывается при закрытии плагина.
- Сетевые ошибки отображаются в панели и не ломают UI.
- Статусы и логи обновляются в реальном времени по событиям SSE.

**Smoke-тест:**
1. Создать задачу через UI или curl.
2. Нажать Fetch в плагине и увидеть статусы по мере получения логов/результата.
3. Проверить, что при закрытии/открытии плагина подписка пересоздаётся без ошибок.

## [PLUGIN] Artifacts Gallery (поиск, пагинация, массовое скачивание)

**Статус:** todo

**Цель:** во вкладке `Artifacts` в `plugin/ui.html` показать список артефактов с управлением порядком/лимитом, локальным поиском по ID и массовой выгрузкой.

**Сценарии UX:**
- Пользователь открывает вкладку Artifacts и видит таблицу с колонками ID, CreatedAt, Size, JSON, ZIP и чекбоксами.
- Поле Search by ID фильтрует текущую страницу по подстроке без дополнительных запросов.
- Переключатель Order и поле Limit обновляют данные через `/artifacts?offset=…&limit=…&order=…`.
- Кнопки Prev/Next меняют offset и подгружают следующую/предыдущую страницу.
- Кнопка Download selected as ZIP отправляет `POST /artifacts/bulk.zip` с выбранными ID и сохраняет архив с подпапками `{id}/` и файлами `exportSpec.json`, `logs.txt`, `task.json`, `meta.json`.
