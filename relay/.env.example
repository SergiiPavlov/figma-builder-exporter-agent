# Relay server configuration

# --- Development (Docker Compose / local) ---
PORT=3000
DATA_DIR=/data
TRUST_PROXY=loopback
API_KEYS=
API_FREE_ENDPOINTS=GET /health,GET /shared/:token,POST /validate/taskSpec,POST /validate/exportSpec
CORS_ORIGIN=http://localhost:3001
RATE_LIMIT_WINDOW_MS=300000
RATE_LIMIT_MAX=100
MAX_ARTIFACTS=200
TTL_DAYS=30
PUBLIC_BASE_URL=http://localhost:3000
PUBLIC_TOKEN_TTL_MIN=60
WEBHOOK_URL=
WEBHOOK_EVENTS=done,error
WEBHOOK_RETRIES=3
WEBHOOK_TIMEOUT_MS=5000
SLACK_WEBHOOK_URL=

# --- Production template ---
#PORT=3000
#DATA_DIR=/var/lib/figma-relay/data
#TRUST_PROXY=loopback
#API_KEYS=prod-key-1,prod-key-2
#API_FREE_ENDPOINTS=GET /health,GET /shared/:token,POST /validate/taskSpec,POST /validate/exportSpec
#CORS_ORIGIN=https://your-domain.example
#RATE_LIMIT_WINDOW_MS=300000
#RATE_LIMIT_MAX=100
#MAX_ARTIFACTS=200
#TTL_DAYS=30
#PUBLIC_BASE_URL=https://relay.example.com
#PUBLIC_TOKEN_TTL_MIN=60
#WEBHOOK_URL=https://hooks.example.com/relay
#WEBHOOK_EVENTS=done,error
#WEBHOOK_RETRIES=3
#WEBHOOK_TIMEOUT_MS=5000
#SLACK_WEBHOOK_URL=https://hooks.slack.com/services/...
